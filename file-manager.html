<!doctype html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Semantika - Admin Dashboard Template</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/media/image/favicon.png"/>

    <!-- Plugin styles -->
    <link rel="stylesheet" href="vendors/bundle.css" type="text/css">

    <!-- quill -->
    <link href="vendors/quill/quill.snow.css" rel="stylesheet" type="text/css">

    <!-- Tagsinput -->
    <link rel="stylesheet" href="vendors/tagsinput/bootstrap-tagsinput.css" type="text/css">

    <!-- App styles -->
    <link rel="stylesheet" href="assets/css/app.min.css" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

</head>
<body class="small-navigation">

<!-- begin::preloader-->
<div class="preloader">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="50px" height="50px" viewBox="0 0 128 128"
         xml:space="preserve">
        <rect x="0" y="0" width="100%" height="100%" fill="#FFFFFF"/>
        <g>
            <path d="M75.4 126.63a11.43 11.43 0 0 1-2.1-22.65 40.9 40.9 0 0 0 30.5-30.6 11.4 11.4 0 1 1 22.27 4.87h.02a63.77 63.77 0 0 1-47.8 48.05v-.02a11.38 11.38 0 0 1-2.93.37z"
                  fill="#000000" fill-opacity="1"/>
            <animateTransform attributeName="transform" type="rotate" from="0 64 64" to="360 64 64"
                              dur="500ms" repeatCount="indefinite">
            </animateTransform>
        </g>
    </svg>
</div>
<!-- end::preloader -->

<!-- begin::header -->
<div class="header">

    <!-- begin::header-logo -->
    <div id="header-logo">
        <a href="index.html">
            <img class="logo" src="assets/media/image/logo.png" alt="logo">
            <img class="logo-sm" src="assets/media/image/logo-sm.png" alt="small logo">
            <img class="logo-light" src="assets/media/image/logo-light.png" alt="light logo">
        </a>
    </div>
    <!-- end::header-logo -->

    <div class="header-body">

        <div>
            <ul class="navbar-nav">

                <!-- begin::navigation-toggler -->
                <li class="nav-item navigation-toggler">
                    <a href="#" class="nav-link">
                        <i data-feather="menu"></i>
                    </a>
                </li>
                <!-- end::navigation-toggler -->

                <li class="nav-item">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                        <i data-feather="plus" class="mr-1"></i> Create
                    </a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">User</a>
                        <a href="#" class="dropdown-item">Category</a>
                        <a href="#" class="dropdown-item">Product</a>
                        <a href="#" class="dropdown-item">Report</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Applications</a>
                    <div class="dropdown-menu dropdown-menu-big">
                        <div class="p-3">
                            <div class="row row-xs">
                                <div class="col-6">
                                    <a href="chat.html">
                                        <div class="p-3 border-radius-1 border text-center mb-3">
                                            <i class="width-23 height-23" data-feather="message-circle"></i>
                                            <div class="mt-2">Chat</div>
                                        </div>
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="inbox.html">
                                        <div class="p-3 border-radius-1 border text-center mb-3">
                                            <i class="width-23 height-23" data-feather="mail"></i>
                                            <div class="mt-2">Mail</div>
                                        </div>
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="app-todo.html">
                                        <div class="p-3 border-radius-1 border text-center">
                                            <i class="width-23 height-23" data-feather="check-circle"></i>
                                            <div class="mt-2">Todo</div>
                                        </div>
                                    </a>
                                </div>
                                <div class="col-6">
                                    <a href="file-manager.html">
                                        <div class="p-3 border-radius-1 border text-center">
                                            <i class="width-23 height-23" data-feather="file"></i>
                                            <div class="mt-2">File Manager</div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>


        <div>
            <ul class="navbar-nav">

                <li class="nav-item">
                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                        <img width="18" class="mr-2" src="assets/media/image/flags/261-china.png" alt="flag"> China
                    </a>
                    <div class="dropdown-menu">
                        <a href="#" class="dropdown-item">
                            <img width="18" src="assets/media/image/flags/003-tanzania.png" class="mr-2" alt="flag">
                            Tanzania
                        </a>
                        <a href="#" class="dropdown-item">
                            <img width="18" src="assets/media/image/flags/262-united-kingdom.png" class="mr-2"
                                 alt="flag"> United Kingdom
                        </a>
                        <a href="#" class="dropdown-item">
                            <img width="18" src="assets/media/image/flags/013-tunisia.png" class="mr-2" alt="flag">
                            Tunisia
                        </a>
                        <a href="#" class="dropdown-item">
                            <img width="18" src="assets/media/image/flags/044-spain.png" class="mr-2" alt="flag"> Spain
                        </a>
                    </div>
                </li>

                <!-- begin::header search -->
                <li class="nav-item">
                    <a href="#" class="nav-link" title="Search" data-toggle="search">
                        <i data-feather="search"></i>
                    </a>
                    <div class="header-search">
                        <form>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <button class="btn" type="button">
                                        <i data-feather="search"></i>
                                    </button>
                                </div>
                                <input type="text" class="form-control" placeholder="Search">
                                <div class="input-group-prepend">
                                    <button class="btn close-header-search" type="button">
                                        <i data-feather="x"></i>
                                    </button>
                                </div> 
                            </div>
                        </form>
                    </div>
                </li>
                <!-- end::header search -->

                <!-- begin::header minimize/maximize -->
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link" title="Fullscreen" data-toggle="fullscreen">
                        <i class="maximize" data-feather="maximize"></i>
                        <i class="minimize" data-feather="minimize"></i>
                    </a>
                </li>
                <!-- end::header minimize/maximize -->

                <!-- begin::header messages dropdown -->
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link nav-link-notify" title="Chats" data-toggle="dropdown">
                        <i data-feather="message-circle"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-big">
                        <div class="p-4 text-center d-flex justify-content-between"
                             data-backround-image="assets/media/image/image1.png">
                            <h6 class="mb-0">Chats</h6>
                            <small class="font-size-11 opacity-7">2 unread chats</small>
                        </div>
                        <div>
                            <ul class="list-group list-group-flush">
                                <li>
                                    <a href="#" class="list-group-item d-flex hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <img src="assets/media/image/user/man_avatar1.jpg"
                                                     class="rounded-circle" alt="user">
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Herbie Pallatina
                                                <i title="Mark as read" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-circle-o font-size-11"></i>
                                            </p>
                                            <div class="small text-muted">
                                                <span class="mr-2">02:30 PM</span>
                                                <span>Have you madimage</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"
                                       class="list-group-item d-flex align-items-center hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <img src="assets/media/image/user/women_avatar5.jpg"
                                                     class="rounded-circle" alt="user">
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Andrei Miners
                                                <i title="Mark as read" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-circle-o font-size-11"></i>
                                            </p>
                                            <div class="small text-muted">
                                                <span class="mr-2">08:36 PM</span>
                                                <span>I have a meetinimage</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li class="text-divider small pb-2 pl-3 pt-3">
                                    <span>Old chats</span>
                                </li>
                                <li>
                                    <a href="#"
                                       class="list-group-item d-flex align-items-center hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <img src="assets/media/image/user/man_avatar3.jpg"
                                                     class="rounded-circle" alt="user">
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Kevin added
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <div class="small text-muted">
                                                <span class="mr-2">11:09 PM</span>
                                                <span>Have you madimage</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="list-group-item d-flex hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <img src="assets/media/image/user/man_avatar2.jpg"
                                                     class="rounded-circle" alt="user">
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Eugenio Carnelley
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <div class="small text-muted">
                                                <span class="mr-2">Yesterday</span>
                                                <span>I have a meetinimage</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"
                                       class="list-group-item d-flex align-items-center hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <img src="assets/media/image/user/women_avatar1.jpg"
                                                     class="rounded-circle" alt="user">
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Neely Ferdinand
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <div class="small text-muted">
                                                <span class="mr-2">Yesterday</span>
                                                <span>I have a meetinimage</span>
                                            </div>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="p-2 text-right">
                            <ul class="list-inline small">
                                <li class="list-inline-item">
                                    <a href="#">Mark All Read</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <!-- end::header messages dropdown -->

                <!-- begin::header notification dropdown -->
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link nav-link-notify" title="Notifications" data-toggle="dropdown">
                        <i data-feather="bell"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-big">
                        <div class="p-4 text-center d-flex justify-content-between"
                             data-backround-image="assets/media/image/image1.png">
                            <h6 class="mb-0">Notifications</h6>
                            <small class="font-size-11 opacity-7">1 unread notifications</small>
                        </div>
                        <div>
                            <ul class="list-group list-group-flush">
                                <li>
                                    <a href="#" class="list-group-item d-flex hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <span class="avatar-title bg-success-bright text-success rounded-circle">
                                                    <i class="ti-user"></i>
                                                </span>
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                New customer registered
                                                <i title="Mark as read" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-circle-o font-size-11"></i>
                                            </p>
                                            <span class="text-muted small">20 min ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li class="text-divider small pb-2 pl-3 pt-3">
                                    <span>Old notifications</span>
                                </li>
                                <li>
                                    <a href="#" class="list-group-item d-flex hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <span class="avatar-title bg-warning-bright text-warning rounded-circle">
                                                    <i class="ti-package"></i>
                                                </span>
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                New Order Recieved
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <span class="text-muted small">45 sec ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"
                                       class="list-group-item d-flex align-items-center hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <span class="avatar-title bg-danger-bright text-danger rounded-circle">
                                                    <i class="ti-server"></i>
                                                </span>
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Server Limit Reached!
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <span class="text-muted small">55 sec ago</span>
                                        </div>
                                    </a>
                                </li>
                                <li>
                                    <a href="#"
                                       class="list-group-item d-flex align-items-center hide-show-toggler">
                                        <div>
                                            <figure class="avatar avatar-sm m-r-15">
                                                <span class="avatar-title bg-info-bright text-info rounded-circle">
                                                    <i class="ti-layers"></i>
                                                </span>
                                            </figure>
                                        </div>
                                        <div class="flex-grow-1">
                                            <p class="mb-0 line-height-20 d-flex justify-content-between">
                                                Apps are ready for update
                                                <i title="Mark as unread" data-toggle="tooltip"
                                                   class="hide-show-toggler-item fa fa-check font-size-11"></i>
                                            </p>
                                            <span class="text-muted small">Yesterday</span>
                                        </div>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="p-2 text-right">
                            <ul class="list-inline small">
                                <li class="list-inline-item">
                                    <a href="#">Mark All Read</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>
                <!-- end::header notification dropdown -->

                <!-- begin::user menu -->
                <li class="nav-item dropdown">
                    <a href="#" class="nav-link" title="User menu" data-toggle="dropdown">
                        <figure class="avatar avatar-sm avatar-state-success">
                            <img src="assets/media/image/user/women_avatar1.jpg" class="rounded-circle" alt="avatar">
                        </figure>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-big">
                        <div class="p-3 text-center" data-backround-image="assets/media/image/image1.png">
                            <figure class="avatar avatar-state-success mb-3">
                                <img src="assets/media/image/user/women_avatar1.jpg" class="rounded-circle" alt="image">
                            </figure>
                            <h6 class="d-flex align-items-center justify-content-center">
                                Roxana Roussell
                                <a href="#" class="ml-2" data-toggle="tooltip" title="Edit">
                                    <i class="width-13 height-13" data-feather="edit-2"></i>
                                </a>
                            </h6>
                            <small>Balance: <strong>$105</strong></small>
                        </div>
                        <div class="dropdown-menu-body">
                            <div class="border-bottom p-4">
                                <h6 class="text-uppercase font-size-11 d-flex justify-content-between">
                                    Storage
                                    <span>%25</span>
                                </h6>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar bg-success" role="progressbar" style="width: 25%;"
                                         aria-valuenow="25"
                                         aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="list-group list-group-flush">
                                <a href="#" class="list-group-item">Profile</a>
                                <a href="#" class="list-group-item d-flex">Followers <span
                                        class="text-muted ml-auto">214</span></a>
                                <a href="#" class="list-group-item" data-sidebar-target="#settings">Settings</a>
                                <a href="#" class="list-group-item text-danger">Logout</a>
                            </div>
                        </div>
                    </div>
                </li>
                <!-- end::user menu -->
            </ul>

            <!-- begin::mobile header toggler -->
            <ul class="navbar-nav d-flex align-items-center">
                <li class="nav-item header-toggler">
                    <a href="#" class="nav-link">
                        <i data-feather="arrow-down"></i>
                    </a>
                </li>
            </ul>
            <!-- end::mobile header toggler -->
        </div>

    </div>
</div>
<!-- end::header -->

<!-- begin::main -->
<div id="main">

    <!-- begin::navigation -->
    <div class="navigation">

        <!-- begin::navigation menu -->
        <div class="navigation-menu-body">
            <ul>
                <li class="navigation-divider">Navigation</li>
                <li>
                    <a href="index.html">
                        <i class="nav-link-icon" data-feather="bar-chart-2"></i>
                        <span>Dashboard</span>
                    </a>
                    <ul>
                        <li><a href="index.html">CRM System</a></li>
                        <li><a href="dashboard-two.html">Ecommerce</a></li>
                        <li><a href="dashboard-three.html">Analytics</a></li>
                        <li><a href="dashboard-four.html">Project Management</a></li>
                        <li><a href="dashboard-five.html">Helpdesk Management</a></li>
                    </ul>
                </li>
                <li class="open">
                    <a href="#">
                        <i class="nav-link-icon" data-feather="command"></i>
                        <span>Apps</span>
                    </a>
                    <ul>
                        <li>
                            <a href="chat.html">
                                <span>Chat</span>
                                <span class="badge badge-danger">2</span>
                            </a>
                        </li>
                        <li>
                            <a href="inbox.html">
                                <span>Mail</span>
                                <span class="badge badge-success">2</span>
                            </a>
                        </li>
                        <li>
                            <a href="app-todo.html">
                                <span>Todo</span>
                                <span class="badge badge-warning">2</span>
                            </a>
                        </li>
                        <li>
                            <a class="active" href="file-manager.html">
                                <span>File Manager</span>
                            </a>
                        </li>
                        <li>
                            <a href="calendar.html">
                                <span>Calendar</span>
                            </a>
                        </li>
                    </ul>
                </li>
                <li class="navigation-divider">UI Elements</li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="monitor"></i>
                        <span>Components</span>
                    </a>
                    <ul>
                        <li>
                            <a href="#">Basic</a>
                            <ul>
                                <li><a href="alerts.html">Alert</a></li>
                                <li><a href="accordion.html">Accordion</a></li>
                                <li><a href="buttons.html">Buttons</a></li>
                                <li><a href="dropdown.html">Dropdown</a></li>
                                <li><a href="list-group.html">List Group</a></li>
                                <li><a href="pagination.html">Pagination</a></li>
                                <li><a href="typography.html">Typography</a></li>
                                <li><a href="media-object.html">Media Object</a></li>
                                <li><a href="progress.html">Progress</a></li>
                                <li><a href="modal.html">Modal</a></li>
                                <li><a href="spinners.html">Spinners</a></li>
                                <li><a href="navs.html">Navs</a></li>
                                <li><a href="tab.html">Tab</a></li>
                                <li><a href="tooltip.html">Tooltip</a></li>
                                <li><a href="popovers.html">Popovers</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Cards</a>
                            <ul>
                                <li><a href="basic-cards.html">Basic Cards </a></li>
                                <li><a href="image-cards.html">Image Cards </a></li>
                                <li><a href="card-scroll.html">Card Scroll </a></li>
                                <li><a href="other-cards.html">Others </a></li>
                            </ul>
                        </li>
                        <li><a href="avatar.html">Avatar</a></li>
                        <li><a href="icons.html">Icons</a></li>
                        <li><a href="colors.html">Colors</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="globe"></i>
                        <span>Plugins</span>
                    </a>
                    <ul>
                        <li><a href="sweet-alert.html">Sweet Alert</a></li>
                        <li><a href="lightbox.html">Lightbox</a></li>
                        <li><a href="toast.html">Toast</a></li>
                        <li><a href="tour.html">Tour</a></li>
                        <li><a href="slick-slide.html">Slick Slide</a></li>
                        <li><a href="nestable.html">Nestable</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="mouse-pointer"></i>
                        <span>Forms</span>
                    </a>
                    <ul>
                        <li><a href="basic-form.html">Form Layouts</a></li>
                        <li><a href="custom-form.html">Custom Forms</a></li>
                        <li><a href="advanced-form.html">Advanced Form</a></li>
                        <li><a href="form-validation.html">Validation</a></li>
                        <li><a href="form-wizard.html">Wizard</a></li>
                        <li><a href="file-upload.html">File Upload</a></li>
                        <li><a href="datepicker.html">Datepicker</a></li>
                        <li><a href="timepicker.html">Timepicker</a></li>
                        <li><a href="colorpicker.html">Colorpicker</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="grid"></i>
                        <span>Tables</span>
                    </a>
                    <ul>
                        <li><a href="tables.html">Basic Tables</a></li>
                        <li><a href="data-table.html">Datatable</a></li>
                        <li><a href="responsive-table.html">Responsive Tables</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="pie-chart"></i>
                        <span>Charts</span>
                    </a>
                    <ul>
                        <li><a href="apexchart.html">Apex</a></li>
                        <li><a href="chartjs.html">Chartjs</a></li>
                        <li><a href="justgage.html">Justgage</a></li>
                        <li><a href="morsis.html">Morsis</a></li>
                        <li><a href="peity.html">Peity</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="map-pin"></i>
                        <span>Maps</span>
                    </a>
                    <ul>
                        <li><a href="google-map.html">Google</a></li>
                        <li><a href="vector-map.html">Vector</a></li>
                    </ul>
                </li>
                <li class="navigation-divider">Extras</li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="user"></i>
                        <span>Authentication</span>
                    </a>
                    <ul>
                        <li><a href="login.html">Login</a></li>
                        <li><a href="register.html">Register</a></li>
                        <li><a href="recover-password.html">Recovery Password</a></li>
                        <li><a href="lock-screen.html">Lock Screen</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="copy"></i>
                        <span>Pages</span>
                    </a>
                    <ul>
                        <li><a href="profile.html">Profile</a></li>
                        <li><a href="timeline.html">Timeline</a></li>
                        <li><a href="invoice.html">Invoice</a></li>

                        <li><a href="pricing-table.html">Pricing Table</a></li>
                        <li><a href="search-result.html">Search Result</a></li>
                        <li>
                            <a href="#">Error Pages</a>
                            <ul>
                                <li><a href="404.html">404</a></li>
                                <li><a href="404-2.html">404 V2</a></li>
                                <li><a href="503.html">503</a></li>
                                <li><a href="mean-at-work.html">Mean at Work</a></li>
                            </ul>
                        </li>
                        <li><a href="blank-page.html">Starter Page</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="send"></i>
                        <span>Email Templates</span>
                    </a>
                    <ul>
                        <li><a href="email-template-basic.html">Basic</a></li>
                        <li><a href="email-template-alert.html">Alert</a></li>
                        <li><a href="email-template-billing.html">Billing</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class="nav-link-icon" data-feather="menu"></i>
                        <span>Menu Level</span>
                    </a>
                    <ul>
                        <li>
                            <a href="#">Menu Level</a>
                            <ul>
                                <li>
                                    <a href="#">Menu Level </a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- end::navigation menu -->

    </div>
    <!-- end::navigation -->

    <!-- begin::main-content -->
    <div class="main-content">

        <div class="container-fluid h-100">

            <div class="row app-block">
                <div class="col-md-2 app-sidebar">
                    <div class="card">
                        <div class="card-body">
                            <button class="btn btn-primary btn-block file-upload-btn" id="uploadBtn">
                                <i data-feather="plus" class="mr-2"></i>Subir Archivo
                            </button>

                            <!-- El input de tipo file, que estará oculto -->
                            <input type="file" id="fileInput" style="display: none;" multiple>
                            
                            <form class="d-none" id="file-upload">
                                <input type="file" id="fileInput">
                            </form>
                        </div>
                        
                        <div class="app-sidebar-menu">
                            <div class="list-group list-group-flush">
                                <a href="#" class="list-group-item active d-flex align-items-center">
                                    <i data-feather="folder" class="width-15 height-15 mr-2"></i>
                                    Todos los Archivos
                                    <!-- <span class="small ml-auto">45</span>
                                </a> -->
                                <a href="#" class="list-group-item">
                                    <i data-feather="monitor" class="width-15 height-15 mr-2"></i>
                                    Mis Dipositivos
                                </a>
                                <a href="#" class="list-group-item">
                                    <i data-feather="upload-cloud" class="width-15 height-15 mr-2"></i>
                                    Recientes
                                </a>
                                
                                <a href="#" class="list-group-item d-flex align-items-center">
                                    <i data-feather="star" class="width-15 height-15 mr-2"></i>
                                    Importante
                                    <!-- <span class="small ml-auto">10</span> -->
                                </a>

                                <a href="#" class="list-group-item">
                                    <i data-feather="trash" class="width-15 height-15 mr-2"></i>
                                    Archivos Eliminados
                                </a>
                            
                            </div>
                            <div class="card-body">
                                <h6 class="mb-4">Estado de Almacenamiento</h6>
                                <div class="d-flex align-items-center">
                                    <div class="mr-3">
                                        <i data-feather="database" class="width-30 height-30"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="progress" style="height: 10px">
                                            <div class="progress-bar progress-bar-striped" role="progressbar"
                                                 style="width: 40%" aria-valuenow="10" aria-valuemin="0"
                                                 aria-valuemax="100"></div>
                                        </div>
                                        <div class="line-height-12 small text-muted mt-2">19.5GB usado de 25GB</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-8 app-content">
                    <div class="app-content-overlay"></div>


                    <h5 class="mb-4">Todos los Archivos</h5>  
                    <div class="app-action">
                        <!-- <div class="action-left">
                            <ul class="list-inline">
                                <li class="list-inline-item mb-0">
                                    <a href="#" class="btn btn-outline-light dropdown-toggle" data-toggle="dropdown">
                                
                                        <i data-feather="plus" class="mr-2"></i>
                                        Añadir 
                                    </a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Folder</a>
                                        <a class="dropdown-item" href="#">File</a>
                                    </div>
                                </li>
                                <li class="list-inline-item mb-0">
                                    <a href="#" class="btn btn-outline-light dropdown-toggle" data-toggle="dropdown">Folders</a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item d-flex justify-content-between" href="#">
                                            Video
                                            <span class="text-muted">21</span>
                                        </a>
                                        <a class="dropdown-item d-flex justify-content-between" href="#">
                                            Image
                                            <span class="text-muted">5</span>
                                        </a>
                                        <a class="dropdown-item d-flex justify-content-between" href="#">
                                            Audio
                                            <span class="text-muted">12</span>
                                        </a>
                                        <a class="dropdown-item d-flex justify-content-between" href="#">
                                            Documents
                                            <span class="text-muted">7</span>
                                        </a>
                                    </div>
                                </li>
                                <li class="list-inline-item mb-0">
                                    <a href="#" class="btn btn-outline-light dropdown-toggle" data-toggle="dropdown">
                                        Order by
                                    </a>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#">Date</a>
                                        <a class="dropdown-item" href="#">Name</a>
                                        <a class="dropdown-item" href="#">Size</a>
                                    </div>
                                </li>
                            </ul>
                        </div> -->

                        <div class="action-right">
                            <form class="d-flex mr-3">
                                <a href="#" class="app-sidebar-menu-button btn btn-outline-light">
                                    <i data-feather="menu"></i>
                                </a>
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Buscar Archivos" id="search-box"
                                           aria-describedby="button-addon1">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-light" type="button" id="button-addon1">
                                            <i data-feather="search"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="action-right">
                                    <!-- Aquí van tus otros controles -->
                                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                        <label class="btn btn-secondary">
                                            <input type="radio" name="options" id="option1" autocomplete="off" checked> Archivos
                                        </label>
                                        <label class="btn btn-secondary">
                                            <input type="radio" name="options" id="option2" autocomplete="off"> Carpetas
                                        </label>
                                    </div>
                                </div>
   <!--  
                                <label class="switch">
                                    <input type="checkbox" id="toggleView">
                                    <span class="slider round"></span>
                                  </label>

                          <button id="toggleViewBtn" type="button" class="btn btn-outline-light">Cambiar Vista</button> -->


                                
                            </form>
                        </div>



                        
                    </div>


                    <div class="card app-content-body">
                        <div class="card-body card-files" id="drop-area" style="transition: background-color 0.3s ease-in-out; overflow-y: auto; max-height: 540px;">
                            <!-- Breadcrumb para la navegación de carpetas -->
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb" id="folder-path">
                                    <li class="breadcrumb-item"><a href="#" onclick="loadFolderContents('');">Almacenamiento</a></li>
                                    <!-- Los elementos del breadcrumb se agregarán dinámicamente aquí -->
                                </ol>
                            </nav>
                          
                            <div class="row" id="file-list">
                                <!-- Aquí se agregarán las tarjetas de archivos -->


                       
                                
                                
                            </div>
                        </div>
                    </div>
                    
                    

                </div>
            

    

                <div id="preview-container" class="col-md-2 app-content mt-5 bg-white" style="display: none" >
                    <!-- Vista previa de la imagen -->
                    <div class="image-cont" style="height: 300px; display: flex; align-items: center; justify-content: center;">
                        <img id="preview-image" src="ruta_a_tu_imagen.jpg" alt="Vista Previa" class="img-fluid">
                    </div>
                    
                 
                
                    <!-- Detalles del archivo debajo de la imagen -->
                    <div class="file-details" id="preview-details">
                        <p>Nombre del archivo: ejemplo.jpg</p>
                        <p>Tamaño: 2MB</p>
                        <!-- Otros detalles que quieras incluir -->
                    </div>
                </div>
                
            
                
            </div>

        </div>

        <!-- begin::footer -->
        <footer>
            <div class="container-fluid">
                <div>© 2019 Protable v1.0.0 Made by <a href="http://laborasyon.com/">Laborasyon</a></div>
                <div>
                    <nav class="nav">
                        <a href="https://themeforest.net/licenses/standard" class="nav-link">Licenses</a>
                        <a href="#" class="nav-link">Change Log</a>
                        <a href="#" class="nav-link">Get Help</a>
                    </nav>
                </div>
            </div>
        </footer>
        <!-- end::footer -->

    </div>
    <!-- end::main-content -->

</div>
<!-- end::main -->

<!-- Plugin scripts -->
<script src="vendors/bundle.js"></script>

<!-- Tagsinput -->
<script src="vendors/tagsinput/bootstrap-tagsinput.js"></script>
<script src="assets/js/examples/tagsinput.js"></script>

<!-- quill -->
<script src="vendors/quill/quill.js"></script>

<!-- App scripts -->
<script src="assets/js/app.min.js"></script>


<script>


document.addEventListener('DOMContentLoaded', function() {


    fetch('./php/listFiles.php')
        .then(response => response.json())
        .then(files => {
            files.forEach(fileInfo => {
                onFileUploadSuccess(fileInfo);
            });
        })
        .catch(error => console.error('Error:', error));
        

        $('#toggleViewBtn').click(function(e) {
        e.preventDefault(); // Esto evitará que el botón envíe el formulario
        isListView = !isListView;
        toggleListView();
    });

    


    document.getElementById('toggleView').addEventListener('change', function() {
    var container = document.getElementById('file-list'); // Asegúrate de que este ID coincida con el contenedor principal de tus archivos/carpetas

    if (this.checked) {
        // Cambiar a la vista de lista
        container.classList.remove('grid-view');
        container.classList.add('list-view');
    } else {
        // Cambiar a la vista de grilla
        container.classList.remove('list-view');
        container.classList.add('grid-view');
    }
});




var searchBox = document.getElementById('search-box');
searchBox.addEventListener('input', function(e) {
    var searchText = e.target.value.toLowerCase();
    console.log('Texto de búsqueda:', searchText); // Para depuración
    var fileCards = document.querySelectorAll('.card.app-file-list');

    fileCards.forEach(function(card) {
        // Asegúrate de que la ruta del archivo esté presente en dataset.filePath
        if (typeof card.dataset.filePath === 'undefined') {
            console.error('dataset.filePath no está definido en el elemento', card);
            return; // Salta este archivo
        }

        var filePath = card.dataset.filePath.toLowerCase();
        console.log('Ruta del archivo:', filePath); // Para depuración

        // Verifica si la ruta del archivo o el nombre del archivo contiene el texto de búsqueda
        var isVisible = filePath.includes(searchText) || card.dataset.fileName.toLowerCase().includes(searchText);
        console.log('¿Es visible?', isVisible); // Para depuración

        // Actualiza la visualización de la tarjeta de archivo basada en la búsqueda
        card.style.display = isVisible ? '' : 'none';
    });
});





    var dropArea = document.getElementById('drop-area');

    var previewCont = document.getElementById('preview-container');
    previewCont.style.display = 'none';

    // Evitar comportamientos por defecto para eventos de arrastrar
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, preventDefaults, false);
        document.body.addEventListener(eventName, preventDefaults, false);
    });

    // Resaltar drop area cuando se arrastre archivos sobre ella
    ['dragenter', 'dragover'].forEach(eventName => {
        dropArea.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
        dropArea.addEventListener(eventName, unhighlight, false);
    });

    // Manejar archivos cuando se suelten
    dropArea.addEventListener('drop', handleDrop, false);

    function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
    }

    function highlight(e) {
        dropArea.classList.add('highlight');
    }

    function unhighlight(e) {
        dropArea.classList.remove('highlight');
    }

    function handleDrop(e) {
        var dt = e.dataTransfer;
        var files = dt.files;

        handleFiles(files);
    }

    function handleFiles(files) {
        ([...files]).forEach(uploadFile);
    }
    function uploadFile(file) {
    var breadcrumb = document.getElementById('folder-path');
    var currentFolderPath = breadcrumb.getAttribute('data-current-path') || '';
    var formData = new FormData();
    formData.append('file', file);
    formData.append('folder', currentFolderPath); // añade la ruta de la carpeta al FormData


    // Crea una solicitud para subir el archivo
    var xhr = new XMLHttpRequest();
    xhr.open('POST', './php/uploadFiles.php', true);

    // Opcional: Mostrar el progreso de la carga
    xhr.upload.onprogress = function(e) {
        if (e.lengthComputable) {
            var percentComplete = (e.loaded / e.total) * 100;
            console.log(percentComplete + '% uploaded');
        }
    };

    // Maneja la respuesta del servidor
    xhr.onload = function() {
        if (xhr.status === 200) {
            // Si el servidor responde que la carga fue exitosa
            // Agregar el archivo a la lista sin recargar la página
            var fileInfo = {
                fileName: file.name,
                fileSize: formatFileSize(file.size), // Asegúrate de que esta función se llame para formatear el tamaño del archivo
                filePath: './images/' + file.name // O la ruta que responda el servidor
            };
            addFileToList(fileInfo);
 
            console.log('Archivo subido: ' + file.name);
        } else {
            console.error('Error en la carga del archivo.');
        }
    };

    // Enviar el archivo al servidor
    xhr.send(formData);
}



function addFileToList(fileInfo) {
    var fileList = document.getElementById('file-list');
    var colDiv = document.createElement('div');
    colDiv.className = 'col-xl-3 col-lg-4 col-md-6 col-sm-12';

    var cardDiv = document.createElement('div');
    cardDiv.className = 'card app-file-list';
    cardDiv.dataset.fileName = fileInfo.fileName;
    cardDiv.dataset.fileSize = fileInfo.fileSize;
    cardDiv.dataset.filePath = fileInfo.filePath;
    cardDiv.dataset.isFolder = fileInfo.isFolder;

    var isImageFile = fileInfo.fileName.match(/\.(jpeg|jpg|gif|png)$/i);
    var filePreview = isImageFile
        ? `<img src="${fileInfo.filePath}" alt="${fileInfo.fileName}" class="img-fluid" style="height: 50px; object-fit: cover;">`
        : getFileIcon(fileInfo.fileName);

    var fileNameDiv = document.createElement('div');
    fileNameDiv.className = 'file-name';
    fileNameDiv.style.height = '3em'; // fija la altura del nombre del archivo
    fileNameDiv.style.overflow = 'hidden'; // oculta el texto que desborde
    fileNameDiv.textContent = fileInfo.fileName;

    var fileSizeDiv = document.createElement('div');
    fileSizeDiv.className = 'text-muted file-size';
    fileSizeDiv.textContent = formatFileSize(fileInfo.fileSize);

    var cardBodyDiv = document.createElement('div');
    cardBodyDiv.className = 'p-2 small text-center';
    cardBodyDiv.appendChild(fileNameDiv);
    cardBodyDiv.appendChild(fileSizeDiv);

    cardDiv.innerHTML = `
        <div class="app-file-icon d-flex justify-content-center align-items-center" style="height: 120px;">
            ${filePreview}
        </div>
    `;

    cardDiv.appendChild(cardBodyDiv); // Añade el cuerpo de la tarjeta al div principal

    // Añade el evento de clic que actualiza la vista previa
    cardDiv.addEventListener('click', function() {
        updateFilePreview(fileInfo);
    });

    colDiv.appendChild(cardDiv);
    fileList.appendChild(colDiv);
}

});

$(document).ready(function() {
    // Asegúrate de que el DOM está completamente cargado

    // Escucha los cambios en cualquier input de tipo radio con el nombre 'options'
    $('input[type="radio"][name="options"]').change(function() {
        var showFiles = this.id === 'option1'; // Asume que 'option1' es para archivos
        console.log('Seleccionado:', this.id); // Debería mostrarte 'option1' o 'option2'
        filterFileCards(showFiles);
    });

    function filterFileCards(showFiles) {
        var fileCardContainers = document.querySelectorAll('#file-list > div');
        
        fileCardContainers.forEach(function(container) {
            var isFolder = container.querySelector('.card.app-file-list').dataset.isFolder === 'true';
            if ((isFolder && !showFiles) || (!isFolder && showFiles)) {
                container.style.display = ''; // o 'flex' u otro display apropiado
            } else {
                container.style.display = 'none';
            }
        });
    }

    $('#toggleViewBtn').click(function() {
        fetchFilesAndBuildListView();
    });

    // Aquí invocas la función de filtrado con 'true' porque 'Archivos' está marcado por defecto
    filterFileCards(true);
    loadFolderContents('');
    // ... Resto de tu código para manejar la carga de archivos y otras funcionalidades ...
});








function formatFileSize(bytes) {
    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
    if (bytes == 0) return '0 Byte';
    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));
    return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sizes[i];
}



</script>


<script>


//===== Subida de Archivos a tabla 'documento' ======//

document.getElementById('uploadBtn').addEventListener('click', function() {
    document.getElementById('fileInput').click();
});


// Event listener para manejar la carga de archivos
document.getElementById('fileInput').addEventListener('change', handleFileInputChange);

function handleFileInputChange() {
    // Verifica si hay archivos seleccionados
    if (this.files.length > 0) {
        var file = this.files[0];
        var formData = new FormData();
        var breadcrumb = document.getElementById('folder-path');
        var currentFolderPath = breadcrumb.getAttribute('data-current-path') || ''; // obtén la ruta actual
        formData.append('file', file);
        formData.append('folder', currentFolderPath); // Envía la ruta actual

        var xhr = new XMLHttpRequest();
        xhr.open('POST', './php/uploadFiles.php', true);
        xhr.onload = function () {
            if (xhr.status === 200) {
                // Parsea la respuesta JSON
                var response = JSON.parse(xhr.responseText);

                if (response.success) {
                    // Archivo subido exitosamente
                    console.log("Archivo subido: " + response.fileName);

                    // Suponiendo que el servidor devuelve información sobre el archivo en JSON
                    var fileInfo = {
                        fileName: response.fileName,
                        fileSize: response.fileSize // Aquí podrías llamar a formatFileSize si es necesario
                    };

                    // Actualiza la interfaz de usuario
                    onFileUploadSuccess(fileInfo);
                } else {
                    // Manejar el error en la carga del archivo
                    console.error(response.error);
                }
            } else {
                // Error en la respuesta del servidor
                console.error('Error en la respuesta del servidor.');
            }
        };
        xhr.send(formData);
    }
    // Restablece el input de archivo para que se pueda subir el mismo archivo si es necesario
    resetFileInput();
}

function createDocumentEntry(fileInfo) {
    // Aquí deberías tener el ID del usuario y la categoría del documento
    var usuarioId = '1';
    var categoriaId = '1';
    var descripcion = 'Descripcion Generica';
    var versionDocumento = '1';
    var activo = '1';

    // Preparar el objeto FormData con todos los datos necesarios
    var data = new FormData();
    data.append('nombre', fileInfo.fileName);
    data.append('rutaArchivo', fileInfo.filePath);
    data.append('usuarioId', usuarioId);
    data.append('categoriaId', categoriaId);
    data.append('descripcion', descripcion);
    data.append('versionDocumento', versionDocumento);
    data.append('Activo', activo);

    var xhr = new XMLHttpRequest();
    xhr.open('POST', './php/createDocumentEntry.php', true);
    xhr.onload = function () {
        if (xhr.status === 200) {
            // La entrada del documento se ha creado con éxito en la base de datos
            console.log('Entrada del documento creada:', xhr.responseText);
        } else {
            console.error('Error al crear la entrada del documento:', xhr.responseText);
        }
    };
    xhr.onerror = function () {
        console.error('Error en la solicitud de red.');
    };
    xhr.send(data);
}



function resetFileInput() {
    var fileInputContainer = document.getElementById('file-upload');
    var oldInput = document.getElementById('fileInput');
    var newInput = document.createElement('input');
    newInput.type = 'file';
    newInput.id = oldInput.id;

    fileInputContainer.replaceChild(newInput, oldInput);
    newInput.addEventListener('change', handleFileInputChange);
}

// Otras funciones (onFileUploadSuccess, createFileCard, formatFileSize) permanecen iguales

function onFileUploadSuccess(fileInfo) {
    // Obtiene la ruta actual desde el breadcrumb o asigna un valor predeterminado si está vacío
    var currentFolderPath = document.getElementById('folder-path').getAttribute('data-current-path') || '';

    // Si la ruta actual no está vacía y no termina en '/', añade '/'
    if (currentFolderPath && !currentFolderPath.endsWith('/')) {
        currentFolderPath += '/';
    }

    // Añade la carpeta actual a la ruta del archivo si es necesario
    var fullPath = './images/' + currentFolderPath + fileInfo.fileName;
    console.log('Ruta completa después de subir:', fullPath);
    
    // Actualiza la vista previa del archivo
    var fileCard = createFileCard({
        fileName: fileInfo.fileName,
        fileSize: fileInfo.fileSize,
        fullPath: fullPath // Usa la ruta completa aquí
    });
   
    var fileInfo = {
        fileName: fileInfo.fileName,
        fileSize: fileInfo.fileSize,
        filePath: fileInfo.filePath // La ruta donde se guardó el archivo
    };

    createDocumentEntry(fileInfo);

    // Añade la nueva tarjeta de archivo al contenedor
    var filesContainer = document.getElementById('file-list');
    filesContainer.appendChild(fileCard);

    // Llama a la función para mostrar la vista previa
    updateFilePreview({
        fileName: fileInfo.fileName,
        fileSize: fileInfo.fileSize,
        filePath: fullPath
    });
}


//========================================//


function getFileIcon(fileName) {
    var extension = fileName.split('.').pop().toLowerCase();
    var iconClass;
    switch (extension) {
        case 'pdf':
            iconClass = 'fa-file-pdf'; // Asegúrate de tener el ícono correcto de Font Awesome
            break;
        case 'doc':
        case 'docx':
            iconClass = 'fa-file-word'; // Asegúrate de tener el ícono correcto de Font Awesome
            break;
        case 'xlsx':
            iconClass = 'fa-file-excel'; // Asegúrate de tener el ícono correcto de Font Awesome
            break;
        // Añade más casos según sea necesario
        default:
            iconClass = 'fa-folder'; // Un ícono de archivo genérico para otros tipos de archivos
    }
    return `<i class="fas ${iconClass}" style="font-size: 48px;"></i>`; // Establece el tamaño del ícono como necesites
}

var isListView = false;
function createFileCard(fileInfo, folderPath = '')  {
    // Modo de visualización de tarjeta (grid) actual
    var colDiv = document.createElement('div');
    colDiv.className = 'col-xl-3 col-lg-4 col-md-6 col-sm-12';

    var cardDiv = document.createElement('div');
    cardDiv.className = 'card app-file-list';
    cardDiv.dataset.fileName = fileInfo.fileName;

    if (!fileInfo.isFolder) {
        cardDiv.dataset.filePath = './images/' + (folderPath ? folderPath + '/' : '') + fileInfo.fileName;
        console.log('Ruta completa en createFileCard:', cardDiv.dataset.filePath); // Agregado para depuración
    }
 
    cardDiv.dataset.isFolder = fileInfo.isFolder;

    var filePreview = fileInfo.isFolder
        ? `<i class="fas fa-folder" style="font-size: 48px;"></i>`
        : fileInfo.fileName.match(/\.(jpeg|jpg|gif|png)$/i)
            ? `<img src="${fileInfo.fullPath}" alt="${fileInfo.fileName}" class="img-fluid" style="height: 50px; object-fit: cover;">`
            : getFileIcon(fileInfo.fileName);

            var dropdownLink = fileInfo.isFolder ? '' :
`
<div class="dropdown">
    <button class="btn btn-link dropdown-toggle dropdown-icon" type="button" id="dropdownMenuButton-${fileInfo.fileName}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <i class="fas fa-ellipsis-v"></i>
    </button>
    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton-${fileInfo.fileName}">
        <a class="dropdown-item" href="${fileInfo.fullPath}" download="${fileInfo.fileName}">Descargar</a>
    </div>
</div>
`;

    cardDiv.innerHTML = `
        <div class="app-file-icon d-flex justify-content-center align-items-center" style="height: 120px;">
            ${filePreview}
        </div>
        <div class="p-2 small text-center">
            <div>${fileInfo.fileName}</div>
            <div class="text-muted">${!fileInfo.isFolder ? formatFileSize(fileInfo.fileSize) : ''}</div>
        </div>
        <div class="card-dropdown">
            ${dropdownLink} <!-- Añades el dropdown aquí -->
        </div>
    `;

    var cardStyle = document.createElement('style');
    cardStyle.type = 'text/css';
    cardStyle.innerHTML = `
        .card-dropdown {
            position: absolute;
            bottom: 10px;
            right: 10px;
        }
    `;
    document.head.appendChild(cardStyle);

    cardDiv.addEventListener('click', function() {
        if (!fileInfo.isFolder) {
            // Actualiza la vista previa utilizando fileInfo.fullPath
            updateFilePreview({
                fileName: this.dataset.fileName,
                fileSize: this.dataset.fileSize,
                filePath: fileInfo.fullPath // Aquí usamos fullPath
            });
        } else {
            // Si es una carpeta, cargar su contenido
            let newFolderPath = folderPath ? folderPath + '/' + fileInfo.fileName : fileInfo.fileName;
            loadFolderContents(newFolderPath);
        }
    });

    colDiv.appendChild(cardDiv);
    return colDiv;
}




function updateFilePreview(fileInfo) {
    var previewContainer = document.getElementById('preview-container');
    var imagePreview = document.getElementById('preview-image');
    var fileDetails = document.getElementById('preview-details');

    // Si fullPath no está definido, constrúyelo
    var fullPath = fileInfo.fullPath || `./images/${fileInfo.fileName}`;

    // Actualiza la imagen y los detalles para la vista previa
    imagePreview.src = fullPath;
    imagePreview.alt = 'Vista Previa de ' + fileInfo.fileName;
    fileDetails.innerHTML = `
        <p>Nombre del archivo: ${fileInfo.fileName}</p>
        <p>Tamaño: ${formatFileSize(fileInfo.fileSize)}</p>
    `;

    // Muestra el contenedor de vista previa
    previewContainer.style.display = 'block';
}



</script>



<script>

//Mostrar archivos al hacer clic en carpetas

function loadFolderContents(folderPath) {
    const folderQueryParam = folderPath ? `?folder=${encodeURIComponent(folderPath)}` : '';
    fetch(`./php/listFiles.php${folderQueryParam}`)
        .then(response => response.json())
        .then(files => {
            // Ordena primero las carpetas y luego los archivos
            files.sort((a, b) => {
                // Asegurándose de que las carpetas vengan primero
                if (a.isFolder && !b.isFolder) {
                    return -1;
                }
                if (!a.isFolder && b.isFolder) {
                    return 1;
                }
                // Si ambos son carpetas o ambos son archivos, los ordena alfabéticamente
                return a.fileName.localeCompare(b.fileName);
            });

            var fileList = document.getElementById('file-list');
            fileList.innerHTML = ''; // Limpia la lista actual
            files.forEach(fileInfo => {
                fileInfo.fullPath = `./images/${folderPath}/${fileInfo.fileName}`;
                var fileCard = createFileCard(fileInfo, folderPath); // Pasamos también el folderPath
                fileList.appendChild(fileCard);
            });

            // Actualiza el breadcrumb aquí también
            updateBreadcrumb(folderPath.split('/'));
        })
        .catch(error => console.error('Error:', error));
}






// Agregar evento de clic en las carpetas
function addClickEventsToFolders() {
    var folderCards = document.querySelectorAll('.card.app-file-list[data-isfolder="true"]');
    folderCards.forEach(card => {
        card.addEventListener('click', function() {
            var folderName = this.dataset.fileName;
            loadFolderContents(folderName); // Carga el contenido de la carpeta
        });
    });

    card.addEventListener('click', function() {
    var folderName = this.dataset.fileName;
    var breadcrumb = document.getElementById('folder-path');
    var currentPath = breadcrumb.getAttribute('data-current-path') || '';
    var newFolderPath = currentPath + folderName + '/';
    breadcrumb.setAttribute('data-current-path', newFolderPath); // Actualizar la ruta actual
    loadFolderContents(newFolderPath); // Carga el contenido de la carpeta
});


}


function updateBreadcrumb(pathArray) {
    const breadcrumb = document.getElementById('folder-path');
    breadcrumb.innerHTML = '<li class="breadcrumb-item"><a href="#" onclick="loadFolderContents(\'\')">Almacenamiento</a></li>';
    let pathSoFar = '';
    pathArray.forEach((folder, index) => {
        pathSoFar += folder + '/';
        const isLast = index === pathArray.length - 1;
        breadcrumb.innerHTML += `<li class="breadcrumb-item ${isLast ? 'active' : ''}" aria-current="page">
            <a href="#" onclick="loadFolderContents('${pathSoFar}')">${folder}</a>
        </li>`;
    });
    breadcrumb.setAttribute('data-current-path', pathSoFar); // guarda la ruta actual
    console.log("Ruta actual:", pathSoFar);
}

function resetOptionsAndLoadRoot() {
    // Desmarca los botones de radio
    $('input[type="radio"][name="options"]').prop('checked', false).parent().removeClass('active');

    // Carga el contenido de la carpeta raíz
    loadFolderContents('');
}


// Asegúrate de llamar a esta función después de cargar la lista inicial de archivos y carpetas
addClickEventsToFolders();

</script>


<script>



function buildGridView(files) {
    // Limpiar la lista actual
    $('#file-list').empty();

    // Construir la vista de tarjetas como antes
    files.forEach(function(fileInfo) {
        var fileCard = createFileCard(fileInfo); // Esta función crea las tarjetas
        $('#file-list').append(fileCard);
    });
}

function fetchFilesAndBuildGridView() {
    fetch('./php/listFiles.php')
    .then(response => response.json())
    .then(files => {
        files.forEach(fileInfo => {
            var fileCard = createFileCard(fileInfo);
            // Aquí añades fileCard al DOM, por ejemplo:
            document.getElementById('file-list').appendChild(fileCard);
        });
    })
    .catch(error => console.error('Error:', error));
}



// La función formatFileSize() debería seguir siendo la misma que ya tienes


</script>

</body>

</html>